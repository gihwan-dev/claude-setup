---
name: commit
description: 컨벤셔널 커밋 메시지 생성. "커밋해줘", "커밋", "변경사항 저장" 등의 요청 시 사용
disable-model-invocation: false
---

# Claude Command: Commit

이 커맨드는 컨벤셔널 커밋 메시지와 이모지를 사용하여 체계적인 커밋을 생성하도록 도와줍니다. 커밋시 husky 훅이 실행되므로, lint, typecheck 등의 검증을 필요하지 않습니다.

1. `--no-verify`로 지정되면 --no-verify로 실행해 훅 실행을 건너 뜁니다.
2. `git status`로 스테이징된 파일을 확인합니다
3. 스테이징된 파일이 0개라면, 자동으로 모든 수정/신규 파일을 `git add`로 추가합니다
4. `git diff`를 수행하여 커밋될 변경사항을 파악합니다
5. diff를 분석하여 여러 개의 논리적으로 구분된 변경사항이 있는지 판단합니다
6. 여러 개의 구분된 변경사항이 감지되면, 커밋을 여러 개로 분할할 것을 제안합니다
7. 각 커밋(또는 분할하지 않는 경우 단일 커밋)에 대해 이모지 컨벤셔널 커밋 형식으로 메시지를 생성합니다

## 커밋 모범 사례

- **커밋 전 검증**: 코드가 린팅되고, 타입 체크를 통과하는지 확인
- **원자적 커밋**: 각 커밋은 단일 목적을 가진 관련된 변경사항만 포함
- **큰 변경사항 분할**: 여러 관심사를 다루는 변경사항은 별도 커밋으로 분할
- **컨벤셔널 커밋 형식**: `<type>:<[#브랜치 이슈번호]<설명>` 형식 사용, type은 다음 중 하나:
  - `feat`: 새로운 기능
  - `fix`: 버그 수정
  - `docs`: 문서 변경
  - `style`: 코드 스타일 변경 (포맷팅 등)
  - `refactor`: 버그 수정이나 기능 추가가 아닌 코드 변경
  - `perf`: 성능 개선
  - `test`: 테스트 추가 또는 수정
  - `chore`: 빌드 프로세스, 도구 등의 변경
- **커밋 메시지 제목은 한국어로 작성**: 설명은 한국어로 명확하게 작성
- **간결한 첫 줄**: 첫 줄은 72자 이내로 유지
- **이모지**: 각 커밋 타입은 적절한 이모지와 함께 사용:
  - ✨ `feat`: 새로운 기능
  - 🐛 `fix`: 버그 수정
  - 📝 `docs`: 문서화
  - 💄 `style`: 포맷팅/스타일
  - ♻️ `refactor`: 코드 리팩토링
  - ⚡️ `perf`: 성능 개선
  - ✅ `test`: 테스트
  - 🔧 `chore`: 도구, 설정
  - 🚀 `ci`: CI/CD 개선
  - 🗑️ `revert`: 변경사항 되돌리기
  - 🧪 `test`: 실패하는 테스트 추가
  - 🚨 `fix`: 컴파일러/린터 경고 수정
  - 🔒️ `fix`: 보안 이슈 수정
  - 👥 `chore`: 기여자 추가 또는 업데이트
  - 🚚 `refactor`: 리소스 이동 또는 이름 변경
  - 🏗️ `refactor`: 아키텍처 변경
  - 🔀 `chore`: 브랜치 병합
  - 📦️ `chore`: 컴파일된 파일 또는 패키지 추가/업데이트
  - ➕ `chore`: 의존성 추가
  - ➖ `chore`: 의존성 제거
  - 🌱 `chore`: 시드 파일 추가 또는 업데이트
  - 🧑‍💻 `chore`: 개발자 경험 개선
  - 🧵 `feat`: 멀티스레딩 또는 동시성 관련 코드 추가/업데이트
  - 🔍️ `feat`: SEO 개선
  - 🏷️ `feat`: 타입 추가 또는 업데이트
  - 💬 `feat`: 텍스트 및 리터럴 추가 또는 업데이트
  - 🌐 `feat`: 국제화 및 현지화
  - 👔 `feat`: 비즈니스 로직 추가 또는 업데이트
  - 📱 `feat`: 반응형 디자인 작업
  - 🚸 `feat`: 사용자 경험/사용성 개선
  - 🩹 `fix`: 중요하지 않은 이슈에 대한 간단한 수정
  - 🥅 `fix`: 에러 처리
  - 👽️ `fix`: 외부 API 변경으로 인한 코드 업데이트
  - 🔥 `fix`: 코드 또는 파일 제거
  - 🎨 `style`: 코드의 구조/형식 개선
  - 🚑️ `fix`: 긴급 핫픽스
  - 🎉 `chore`: 프로젝트 시작
  - 🔖 `chore`: 릴리스/버전 태그
  - 🚧 `wip`: 진행 중인 작업
  - 💚 `fix`: CI 빌드 수정
  - 📌 `chore`: 특정 버전에 의존성 고정
  - 👷 `ci`: CI 빌드 시스템 추가 또는 업데이트
  - 📈 `feat`: 분석 또는 추적 코드 추가/업데이트
  - ✏️ `fix`: 오타 수정
  - ⏪️ `revert`: 변경사항 되돌리기
  - 📄 `chore`: 라이선스 추가 또는 업데이트
  - 💥 `feat`: 브레이킹 체인지 도입
  - 🍱 `assets`: 에셋 추가 또는 업데이트
  - ♿️ `feat`: 접근성 개선
  - 💡 `docs`: 소스 코드에 주석 추가/업데이트
  - 🗃️ `db`: 데이터베이스 관련 변경
  - 🔊 `feat`: 로그 추가 또는 업데이트
  - 🔇 `fix`: 로그 제거
  - 🤡 `test`: 목(Mock) 추가
  - 🥚 `feat`: 이스터 에그 추가 또는 업데이트
  - 🙈 `chore`: .gitignore 파일 추가 또는 업데이트
  - 📸 `test`: 스냅샷 추가 또는 업데이트
  - ⚗️ `experiment`: 실험 수행
  - 🚩 `feat`: 기능 플래그 추가, 업데이트 또는 제거
  - 💫 `ui`: 애니메이션 및 전환 추가/업데이트
  - ⚰️ `refactor`: 죽은 코드 제거
  - 🦺 `feat`: 검증 관련 코드 추가/업데이트
  - ✈️ `feat`: 오프라인 지원 개선

## 커밋 분할 가이드라인

diff를 분석할 때, 다음 기준에 따라 커밋 분할을 고려합니다:

1. **다른 관심사**: 코드베이스의 서로 관련없는 부분의 변경
2. **다른 변경 타입**: 기능, 수정, 리팩토링 등이 섞인 경우
3. **파일 패턴**: 다른 유형의 파일 변경 (예: 소스 코드 vs 문서)
4. **논리적 그룹화**: 별도로 이해하거나 리뷰하기 쉬운 변경사항
5. **크기**: 분할하면 더 명확해질 수 있는 매우 큰 변경사항

## 예시

좋은 커밋 메시지 (한국어):

- ✨ feat: 사용자 인증 시스템 추가
- 🐛 fix: 렌더링 프로세스의 메모리 누수 해결
- 📝 docs: 새로운 엔드포인트로 API 문서 업데이트
- ♻️ refactor: 파서의 에러 처리 로직 단순화
- 🚨 fix: 컴포넌트 파일의 린터 경고 해결
- 🧑‍💻 chore: 개발자 도구 설정 프로세스 개선
- 👔 feat: 거래 유효성 검사를 위한 비즈니스 로직 구현
- 🩹 fix: 헤더의 사소한 스타일 불일치 해결
- 🚑️ fix: 인증 플로우의 심각한 보안 취약점 패치
- 🎨 style: 가독성을 위한 컴포넌트 구조 재구성
- 🔥 fix: 더 이상 사용되지 않는 레거시 코드 제거
- 🦺 feat: 사용자 등록 폼에 입력 유효성 검사 추가
- 💚 fix: 실패하는 CI 파이프라인 테스트 해결
- 📈 feat: 사용자 참여도 분석 추적 구현
- 🔒️ fix: 인증 비밀번호 요구사항 강화
- ♿️ feat: 스크린 리더를 위한 폼 접근성 개선

커밋 분할 예시:

- 첫 번째 커밋: ✨ feat: 새로운 solc 버전 타입 정의 추가
- 두 번째 커밋: 📝 docs: 새로운 solc 버전에 대한 문서 업데이트
- 세 번째 커밋: 🔧 chore: package.json 의존성 업데이트
- 네 번째 커밋: 🏷️ feat: 새로운 API 엔드포인트 타입 정의 추가
- 다섯 번째 커밋: 🧵 feat: 워커 스레드의 동시성 처리 개선
- 여섯 번째 커밋: 🚨 fix: 새 코드의 린팅 이슈 해결
- 일곱 번째 커밋: ✅ test: 새로운 solc 버전 기능에 대한 단위 테스트 추가
- 여덟 번째 커밋: 🔒️ fix: 보안 취약점이 있는 의존성 업데이트

## 커맨드 옵션

- `--no-verify`: 커밋 전 검증 (lint, typecheck) 건너뛰기

## 중요 사항

- 기본적으로 코드 품질을 보장하기 위해 커밋 전 검증(`pnpm lint`, `pnpm typecheck`)이 실행됩니다
- 이러한 검증이 실패하면, 커밋을 계속 진행할지 아니면 먼저 문제를 수정할지 묻습니다
- 특정 파일이 이미 스테이징되어 있다면, 해당 파일만 커밋됩니다
- 스테이징된 파일이 없다면, 모든 수정 및 신규 파일을 자동으로 스테이징합니다
- 커밋 메시지는 감지된 변경사항을 기반으로 작성됩니다
- 커밋하기 전에 diff를 검토하여 여러 커밋으로 나누는 것이 더 적절한지 식별합니다
- 여러 커밋을 제안하는 경우, 변경사항을 별도로 스테이징하고 커밋하도록 도와줍니다
- 항상 커밋 diff를 검토하여 메시지가 변경사항과 일치하는지 확인합니다
- **커밋 메시지는 반드시 한국어로 작성합니다**
